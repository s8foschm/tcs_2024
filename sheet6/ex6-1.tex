\input{header}
\input{macros}
\sheet{6}{November 29th, 2024}
\begin{document}

\section{Transducers}
a)

Automata recognizing \( f_N(K) \):

\begin{tikzpicture}[shorten >=1pt, node distance=3cm, on grid, auto] 
   \node[state, initial] (SS') {$SS'$}; 
   \node[state] (XA') [right=of SS'] {$XA'$}; 
   \node[state] (XA'_0) [right=of XA'] {$XA'_0$}; 
   \node[state] (AS') [right=of XA'_0] {$AS'$};
   \node[state] (SA') [below=of SS'] {$SA'$}; 
   \node[state] (XS') [right=of SA'] {$XS'$}; 
   \node[state] (XS'_0) [right=of XS'] {$XS'_0$}; 
   \node[state, accepting] (AA') [right=of XS'_0] {$AA'$};

   \path[->] 
    (SS') 
          edge [bend right] node {$\varepsilon$} (SA')
          edge [bend right] node {1} (XA')
    (XA') edge node {1} (XA'_0)
          edge [bend right] node {1} (SS')
    (XA'_0) edge node {0} (AS')
    (AS') edge [bend right] node {$\varepsilon, 0$} (AA')
    (SA') 
          edge [bend right] node {1} (XS')
          edge [bend right] node {$\varepsilon$} (SS')
    (XS') edge node {1} (XS'_0)
          edge [bend right] node {1} (SA')
    (XS'_0) edge node {0} (AA')
    (AA') edge [pos=0.25, bend right] node {$\varepsilon, 0$} (AS');
\end{tikzpicture}

Automata recognizing \( f_N^{-1}(K) \):

\begin{tikzpicture}[shorten >=1pt, node distance=3cm, on grid, auto] 
   \node[state, initial] (SS') {$SS'$}; 
   \node[state] (XA') [right=of SS'] {$XA'$}; 
   \node[state, accepting] (AA') [right=of XA'] {$AA'$};
   \node[state] (AS') [right=of XS'] {$AS'$};

   \path[->] 
    (SS') edge [loop above] node {1} (SS')
          edge [bend right] node {0} (XA')
    (XA') edge node {0} (AA')
          edge [bend right] node {1} (SS')
    (AA') edge [loop above] node {0} (AA')
          edge [bend right] node {1} (AS')
    
    (AS') edge [loop below] node {0} (AS')
          edge [bend right] node {1} (AA');
\end{tikzpicture}


d)
\noindent
\textbf{(d)} If \( h: \Sigma^* \to \Gamma^* \) is a homomorphism, then there is a transducer \( M \) with \( f_M = h \).

Let \( h: \Sigma^* \to \Gamma^* \) be a homomorphism.  
We can construct a transducer as follows:

\[
\sigma \in \Sigma: h(\sigma)
\]

Formally, 
\[
M_h = (Q, \Sigma, \Gamma, \delta, f, q_0, Q_{\text{acc}})
\]
with
\[
Q = \{ q_0 \}, \quad Q_{\text{acc}} = \{ q_0 \},
\]
\[
\delta(q_0, x) = q_0, \quad \forall x \in \Sigma^*,
\]
and
\[
f^*(q_0, x) = h(x).
\]

Now, we prove that \( \forall x \in \Sigma^* : f^*(q_0, x) = h(x) \).

Proof by induction over \( |x| \):  

\textbf{Base case:}  
If \( |x| = 0 \), \( x = \varepsilon \):  
\[
f^*(q_0, \varepsilon) = h(\varepsilon) = \varepsilon.
\]

\textbf{Induction step:}  
Let \( |w| = n + 1 \), where \( w = \sigma x \), \( x \in \Sigma^* \), and \( \sigma \in \Sigma \).

Induction Hypothesis (IH): Assume \( f^*(q_0, x) = h(x) \) for all \( x \in \Sigma^* \) with \( |x| = n \).  
We prove it holds for \( w = \sigma x \):  

\[
f^*(q_0, w) = f^*(q_0, \sigma x)
\]
\[
= f(q_0, \sigma) f^*(q_0, x)
\]
\[
= h(\sigma) h(x)
\]
\[
= h(\sigma x)
\]
\[
= h(w).
\]

Thus, by induction, \( f^*(q_0, x) = h(x) \) for all \( x \in \Sigma^* \). \(\Box\)

\begin{itemize}
    \item[(e)] Yes, for example:
\end{itemize}
\begin{center}
\begin{tikzpicture}[shorten >=1pt, node distance=2cm, on grid, auto]
   \node[state, initial] (s)   {$S$}; 
   \node[state] (s') [right=of s] {$S'$}; 
    \path[->] 
    (s) 
        edge [bend left] node {1:1} (s')
    (s') 
        edge [bend left] node {1:0} (s);
\end{tikzpicture}
\end{center}

It holds that $f_M(11) = 10 \neq 11 = f_M(1)f_M(1)$.

This shows that $f_M$ does not have the property of a homomorphism.


\end{document}
