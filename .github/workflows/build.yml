name: LaTeX Build

# Controls when the workflow will run
on:
  push:
    branches:
      - main     # Run this action on pushes to the main branch
  pull_request:
    branches:
      - main     # Also run on pull requests to the main branch

# Defines the job for building the LaTeX project
jobs:
  build:
    runs-on: ubuntu-latest  # Use the latest Ubuntu runner

    steps:
    - name: Checkout the repository
      uses: actions/checkout@v3  # Check out the repository so we can access the files

    - name: Install TeX Live
      run: |
        sudo apt-get update
        sudo apt-get install -y texlive-full  # Install full TeX Live distribution

    - name: Compile LaTeX document
      run: |
        pdflatex sheet1/ex1.tex
        pdflatex sheet1/ex2.tex
        pdflatex sheet1/ex3.tex
    - name: Upload PDF artifact
      uses: actions/upload-artifact@v3
      with:
        name: main.pdf     # The output file you want to upload
        path: ./main.pdf   # Path to the generated PDF file
